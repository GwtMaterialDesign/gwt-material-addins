function base64ToBuffer(e){var t=atob(e),r=binaryStringToBuffer(t);return r}function bufferToHex(e){var t,r,n,a="";for(t=0,r=e.length;r>t;t+=1)n=e[t].toString(16),n.length<2&&(n="0"+n),a+=n;return a}function hexToBuffer(e){var t,r,n=e.length/2,a=0;if(n!==parseInt(n,10))throw new Error("Invalid hex length '"+e.length+"'");for(r=new Uint8Array(n),t=0;n>t;t+=1)r[t]=parseInt(e[a]+e[a+1],16),a+=2;return r}function utf8ToBinaryString(e){var t=encodeURIComponent(e),r=t.replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)});return r}function utf8ToBuffer(e){var t=utf8ToBinaryString(e),r=binaryStringToBuffer(t);return r}function utf8ToBase64(e){var t=utf8ToBinaryString(e);return btoa(t)}function binaryStringToUtf8(e){var t=e.replace(/(.)/g,function(e,t){var r=t.charCodeAt(t).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r});return decodeURIComponent(t)}function bufferToUtf8(e){var t=bufferToBinaryString(e);return binaryStringToUtf8(t)}function base64ToUtf8(e){var t=atob(e);return binaryStringToUtf8(t)}function bufferToBinaryString(e){var t=Array.prototype.map.call(e,function(e){return String.fromCharCode(e)}).join("");return t}function bufferToBase64(e){var t=bufferToBinaryString(e);return btoa(t)}function binaryStringToBuffer(e){var t;return t="undefined"==typeof Uint8Array?new Uint8Array(e.length):[],Array.prototype.forEach.call(e,function(e,r){t[r]=e.charCodeAt(0)}),t}function base64ToBuffer(e){var t=atob(e),r=binaryStringToBuffer(t);return r}String.prototype.toCamel=function(){return this.replace(/(\-[a-z])/g,function(e){return e.toUpperCase().replace("-","")})},String.prototype.fromCamel=function(){return this.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})};var xepOnline=window.xepOnline||{},current_mimetype="application/pdf",current_stylesheet="",current_height=0;window.Unibabel={utf8ToBinaryString:utf8ToBinaryString,utf8ToBuffer:utf8ToBuffer,utf8ToBase64:utf8ToBase64,binaryStringToUtf8:binaryStringToUtf8,bufferToUtf8:bufferToUtf8,base64ToUtf8:base64ToUtf8,bufferToBinaryString:bufferToBinaryString,bufferToBase64:bufferToBase64,binaryStringToBuffer:binaryStringToBuffer,base64ToBuffer:base64ToBuffer,strToUtf8Arr:utf8ToBuffer,utf8ArrToStr:bufferToUtf8,arrToBase64:bufferToBase64,base64ToArr:base64ToBuffer},window.Unibabel.hexToBuffer=hexToBuffer,window.Unibabel.bufferToHex=bufferToHex,window.Unibabel={utf8ToBinaryString:utf8ToBinaryString,utf8ToBuffer:utf8ToBuffer,utf8ToBase64:utf8ToBase64,binaryStringToUtf8:binaryStringToUtf8,bufferToUtf8:bufferToUtf8,base64ToUtf8:base64ToUtf8,bufferToBinaryString:bufferToBinaryString,bufferToBase64:bufferToBase64,binaryStringToBuffer:binaryStringToBuffer,base64ToBuffer:base64ToBuffer,strToUtf8Arr:utf8ToBuffer,utf8ArrToStr:bufferToUtf8,arrToBase64:bufferToBase64,base64ToArr:base64ToBuffer},xepOnline.IE=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),r=e.indexOf("Trident/"),n=e.indexOf("Edge/");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(r>0){var a=e.indexOf("rv:");return parseInt(e.substring(a+3,e.indexOf(".",a)),10)>=11}return n>0?parseInt(e.substring(n+5,e.indexOf(".",n)),10):!1},xepOnline.detectmob1=function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)?!0:!1},xepOnline.mobilecheck=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),xepOnline.detectmob1()||e},xepOnline.DEFAULTS={pageWidth:"8.5in",pageHeight:"11in",pageMargin:".50in"},xepOnline.MEDIA_IGNORE=["bootstrap.css","bootstrap.min.css"],xepOnline.Formatter={clean_tags:["img","hr","br","input","col ","embed","param","source"],fo_attributes_root:["color","height","fontStyle","fontVariant","fontWeight","fontSize","fontFamily","textAlign","width"],fo_attributes:["lineHeight","alignmentBaseline","backgroundImage","backgroundPosition","backgroundRepeat","backgroundColor","baselineShift","borderTopWidth","borderTopStyle","borderTopColor","borderBottomWidth","borderBottomStyle","borderBottomColor","borderLeftWidth","borderLeftStyle","borderLeftColor","borderRightWidth","borderRightStyle","borderRightColor","borderCollapse","clear","color","display","direction","dominantBaseline","fill","float","fontStyle","fontVariant","fontWeight","fontSize","fontFamily","height","listStyleType","listStyleImage","marginTop","marginBottom","marginLeft","marginRight","orphans","paddingTop","paddingRight","paddingBottom","paddingLeft","pageBreakAfter","pageBreakBefore","stroke","strokeWidth","strokeOpacity","fillOpacity","tableLayout","textAlign","textAnchor","textDecoration","textIndent","textTransform","textShadow","verticalAlign","widows","width","position","top","left","bottom","right"],getRealStyle:function(e,t){for(var r={},n=getComputedStyle(e),a=0;a<t.length;a++)r[t[a]]=n[t[a]];return r},copyComputedStyle:function(e,t,r,n){r=r||{};var a=xepOnline.Formatter.getRealStyle(e,n);for(var i in a){var o=a[i];if(void 0!==r&&r[i]&&r[i]===o);else try{t.style[i]=a[i],"font"==i&&(t.style.fontSize=a.fontSize)}catch(l){}}},computeTableCols:function(e){jQuery("table").each(function(){var e=this;jQuery(e).find("col,colgroup").each(function(){jQuery(this).attr("xeponline-drop-me",!0)});var t=0;jQuery(jQuery.find("td,th",jQuery("tr",e)[0])).each(function(e){t+=Number(Number(jQuery(e).attr("colspan"))?jQuery(e).attr("colspan"):1)});var r=jQuery("<tbody>"),n=jQuery("<tr>");jQuery(r).append(n);for(var a=0;t>a;a++)jQuery(n).append('<td style="padding:0; margin:0">&#x200b;</td>');jQuery(e).append(r);var i=[];jQuery(jQuery(jQuery("tr",r)[0])).find("td,th").each(function(){i.push(jQuery(this).css("width").replace("px",""))}),jQuery(e).find("[xeponline-drop-me=true]").remove(),jQuery(e).find("td,th").css("width","");var o=jQuery("<colgroup>");jQuery(e).prepend(o);for(var a=0;a<i.length;a++){var l=jQuery("<col>");jQuery(l).attr("width",i[a]),jQuery(o).append(l)}jQuery(r).remove()})},cleanTags:function(e){for(var t=e,r=0;r<xepOnline.Formatter.clean_tags.length;r++){var n=new RegExp("(<"+xepOnline.Formatter.clean_tags[r]+'("[^"]*"|[^/">])*)>',"g");t=t.replace(n,"$1/>")}return t},flattenStyle:function(e){xepOnline.Formatter.copyComputedStyle(e,e,void 0,xepOnline.Formatter.fo_attributes_root),jQuery(e).find("*").each(function(e,t){switch(t.tagName){case"IFRAME":try{var r=jQuery(jQuery(xepOnline.Formatter.__elm).find('iframe[src="'+jQuery(t).attr("src")+'"]')[0].contentDocument).find("[contenteditable]"),n=jQuery("<div data-xeponline-formatting='i-flat'></div>");n.html(r.html()),r.after(n),xepOnline.Formatter.flattenStyle(n[0]),jQuery(t).after(n)}catch(a){}case"SCRIPT":break;default:var i=xepOnline.Formatter.getRealStyle(jQuery(t).parent()[0],xepOnline.Formatter.fo_attributes);xepOnline.Formatter.copyComputedStyle(t,t,i,xepOnline.Formatter.fo_attributes)}}),xepOnline.Formatter.computeTableCols(e)},getFormTextData:function(e){var t=xepOnline.Formatter.entity_declaration+current_stylesheet+e,r=encodeURIComponent(t);return window.btoa?btoa(r):r},getFormData:function(e,t,r,n,a){var i,o=xepOnline.Formatter.entity_declaration+current_stylesheet+e;try{i=new Blob([o],{type:xepOnline.Formatter.src_type.xml})}catch(l){if("TypeError"===l.name)throw new Error("Blob undefined")}if(void 0===i)throw new Error("Blob undefined");var p=new FormData;return p.append(t,i,n),p.append("mimetype",r),p.append("resolution",a),p},togglePrintMediaStyle:function(){if(jQuery("head style[data-xeponline-formatting]").length>0)return void jQuery("head style[data-xeponline-formatting]").remove();for(var e=[],t=0;t<document.styleSheets.length;t++){for(var r=!1,n=0;n<xepOnline.MEDIA_IGNORE.length;n++)if(document.styleSheets[t].href&&document.styleSheets[t].href.indexOf(xepOnline.MEDIA_IGNORE[n])>0){r=!0;break}var a;try{if((null===!document.styleSheets[t].cssRules||null!==document.styleSheets[t].href&&0===document.styleSheets[t].href.indexOf(location.host))&&(r=!0),r)continue;var a=document.styleSheets[t].cssRules}catch(i){}if(a){for(var o=[],l=0;l<a.length;l++)if(a[l].media&&a[l].media&&("print"===a[l].media[0]||a[l].media&&"print"===a[l].media.mediaText))for(var p=0;p<a[l].cssRules.length;p++)o.push(a[l].cssRules[p]);else(a[l].parentStyleSheet.media[0]&&"print"===a[l].parentStyleSheet.media[0]||a[l].parentStyleSheet.media&&"print"===a[l].parentStyleSheet.media.mediaText)&&o.push(a[l]);for(var l=0;l<o.length;l++)e.push(o[l].cssText)}}for(var m='\n<style type="text/css" data-xeponline-formatting="true">\n',t=0;t<e.length;t++)m+=".xeponline-container "+e[t]+"\n";m+="</style>\n",jQuery("head").append(m)},getFOContainer:function(e){e=e||{},e.pageWidth=e.pageWidth||xepOnline.DEFAULTS.pageWidth,e.pageHeight=e.pageHeight||xepOnline.DEFAULTS.pageHeight,e.pageMargin=e.pageMargin||xepOnline.DEFAULTS.pageMargin;var t=jQuery("<div class='xeponline-container'></div>"),r=jQuery("<div class='margin-container'></div>");t.append(r);var n="",a="",i="";return n+="width: "+e.pageWidth+"; ",n+="height: "+e.pageHeight+"; ",a+="margin: "+e.pageMargin+"; ",e&&e.pageMarginTop&&(a+="margin-top: "+e.pageMarginTop+"; "),e&&e.pageMarginRight&&(a+="margin-right: "+e.pageMarginRight+"; "),e&&e.pageMarginBottom&&(a+="margin-bottom: "+e.pageMarginBottom+"; "),e&&e.pageMarginLeft&&(a+="margin-left: "+e.pageMarginLeft+"; "),e&&e.cssStyle&&jQuery.each(e.cssStyle,function(e,t){jQuery.each(t,function(e,t){n+=e.fromCamel()+": "+t+"; "})}),e&&e.foStyle&&jQuery.each(e.foStyle,function(e,t){jQuery.each(t,function(e,t){i+=e.fromCamel()+": "+t+"; "})}),t.attr("style",n),r.attr("style",a),t.attr("fostyle",i),t},getBase:function(){var e=jQuery(location).attr("pathname").substring(0,jQuery(location).attr("pathname").lastIndexOf("/")+1),t=jQuery(location).attr("protocol")+"//"+jQuery(location).attr("hostname")+e;return t},cleanSVGDeclarations:function(e){for(var t="",r=/<svg ("[^"]*"|[^\/">])*>/gi,n=r.exec(e),a=0,i='xmlns="http://www.w3.org/2000/svg"';null!=n;){t=t||"",t+=e.substring(a,n.index),t+="<svg";for(var o=!1,l=n[0].match(/([^< =,]*)=("[^"]*"|[^,"]*)/gi),p=0;p<l.length;p++)l[p]===i&&o||(t+=" "+l[p]),o=l[p]===i||o;t+=">",e=e.substring(n.index+n[0].length),r=/<svg ("[^"]*"|[^\/">])*>/gi,n=r.exec(e)}return t+=e||""},xep_chandra_service:"http://xep.cloudformatter.com/Chandra.svc/genpackage",xep_chandra_service_AS_PDF:"http://xep.cloudformatter.com/Chandra.svc/genfile",xep_chandra_service_page_images:"http://xep.cloudformatter.com/Chandra.svc/genpageimages",entity_declaration:'<!DOCTYPE div [  <!ENTITY % winansi SYSTEM "http://xep.cloudformatter.com/doc/XSL/winansi.xml">  %winansi;]>',xsl_stylesheet_declaration:'<?xml-stylesheet type="text/xsl" href="http://xep.cloudformatter.com/doc/XSL/xeponline-fo-translate-2.xsl"?>',svg_xsl_stylesheet_declaration:'<?xml-stylesheet type="text/xsl" href="http://xep.cloudformatter.com/doc/XSL/xeponline-svg-translate.xsl"?>',src_type:{xml:"text/xml"},mime_type:{pdf:"application/pdf",svg:"image/svg+xml",xps:"application/vnd.ms-xpsdocument",ps:"application/postscript",afp:"application/afp",xep:"application/xep",png:"image/png"},__format:function(e,t){t=t||{},t.render=void 0===t.render?"newwin":t.render,t.mimeType=void 0===t.mimeType?xepOnline.Formatter.mime_type.pdf:t.mimeType,t.filename=void 0===t.filename?"document":t.filename,t.resolution=void 0===t.resolution?"120":t.resolution,current_height=jQuery("#"+e[0]).height(),current_stylesheet="svg"==t.srctype?xepOnline.Formatter.svg_xsl_stylesheet_declaration:xepOnline.Formatter.xsl_stylesheet_declaration,(xepOnline.IE()||xepOnline.mobilecheck())&&(t.render="image"==t.mimeType.substring(0,5)?t.render:"download");var r="";if(jQuery(e).each(function(e,n){if(xepOnline.Formatter.__elm=jQuery("#"+n)[0],!xepOnline.Formatter.__elm)throw new Error("Missing or invalid selector");xepOnline.Formatter.__clone=jQuery(xepOnline.Formatter.__elm)[0].outerHTML,xepOnline.Formatter.__container=xepOnline.Formatter.getFOContainer(t),jQuery("#"+n).after(jQuery(xepOnline.Formatter.__container)),jQuery(xepOnline.Formatter.__clone).appendTo(jQuery(xepOnline.Formatter.__container).children(1)),xepOnline.Formatter.togglePrintMediaStyle(),xepOnline.Formatter.flattenStyle(jQuery(xepOnline.Formatter.__container)[0]),r+=xepOnline.Formatter.cleanTags(jQuery(xepOnline.Formatter.__container)[0].outerHTML),xepOnline.Formatter.Clear()}),"none"===t.render)return!1;"embed"===t.render&&xepOnline.Formatter.__container.attr("data-xeponline-embed-pending","true"),xepOnline.IE()&&(r=xepOnline.Formatter.cleanSVGDeclarations(r));var n="";jQuery.each(t.namespaces||[],function(e,t){n+=t+" "}),r='<div base="'+xepOnline.Formatter.getBase()+'" class="xeponline-document">'+n+r+"</div>";var a;if("download"!==t.render)try{a=xepOnline.Formatter.getFormData(r,"xml",t.mimeType,"document.xml",t.resolution)}catch(i){if("Blob undefined"!==i.message)throw i;t.render="download"}if(current_mimetype=t.mimeType,"download"===t.render)jQuery("body").append("<form style=\"width:0px; height:0px; overflow:hidden\" enctype='multipart/form-data' id='temp_post' method='POST' action='"+xepOnline.Formatter.xep_chandra_service_AS_PDF+"'></form>"),jQuery("#temp_post").append("<input type='text' name='mimetype' value='"+t.mimeType+"'/>"),jQuery("#temp_post").append("<textarea name='xml'>"+xepOnline.Formatter.getFormTextData(r)+"</textarea>"),jQuery("#temp_post").append("<input type='text' name='filename' value='"+t.filename+"'/>"),jQuery("#temp_post").submit(),jQuery("#temp_post").remove();else if("soap"===t.render){var o="http://52.8.13.8:6577/fairy",l='<SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"                     xmlns:fairy="http://52.8.13.8:6577/fairy">                     <SOAP-ENV:Header/>                     <SOAP-ENV:Body>                         <fairy:format SOAP-ENV:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/">                             <in0>'+xepOnline.Formatter.getBase()+"</in0>             <in1>"+utf8ToBase64(xepOnline.Formatter.entity_declaration+current_stylesheet+r)+"</in1>         </fairy:format>     </SOAP-ENV:Body> </SOAP-ENV:Envelope>";jQuery.ajax({url:o,type:"POST",dataType:"xml",data:l,complete:xepOnline.Formatter.__soapBackSuccess,contentType:'text/xml; charset="UTF-8"'})}else jQuery.ajax({type:"POST",url:"image/png"==current_mimetype||"image/jpg"==current_mimetype||"image/gif"==current_mimetype?xepOnline.Formatter.xep_chandra_service_page_images:xepOnline.Formatter.xep_chandra_service,processData:!1,contentType:!1,data:a,success:"image/png"==current_mimetype||"image/jpg"==current_mimetype||"image/gif"==current_mimetype?xepOnline.Formatter.__processImages:xepOnline.Formatter.__postBackSuccess,error:xepOnline.Formatter.__postBackFailure});return!1},Format:function(e,t){var r;return r=jQuery.isArray(e)?e:[e],xepOnline.Formatter.__format(r,t)},FormatGroup:function(e,t){return xepOnline.Formatter.Format(e,t)},Clear:function(){0!==jQuery(xepOnline.Formatter.__container).length&&"true"!==jQuery(xepOnline.Formatter.__container).attr("data-xeponline-embed-pending")&&(jQuery(xepOnline.Formatter.__container).remove(),xepOnline.Formatter.togglePrintMediaStyle())},__soapBackSuccess:function(e,t){var r=jQuery(e.responseXML).find("formatReturn").text(),n="";if(n+='<object width="100%" height="100%" data="data:application/pdf;base64,',n+=r,n+='" type="application/pdf" class="internal">',n+='<embed src="data:application/pdf;base64,',n+=r,n+='" type="application/pdf" />',n+="</object>","true"===jQuery(xepOnline.Formatter.__container).attr("data-xeponline-embed-pending"))jQuery(xepOnline.Formatter.__elm).html(n),jQuery(xepOnline.Formatter.__elm).css({height:xepOnline.DEFAULTS.pageHeight}),jQuery(xepOnline.Formatter.__container).remove();else{var a=window.open("","_blank","titlebar=yes");a.document.title="XEPOnline PDF Result",a.document.write("<html><body>"),a.document.write(n),a.document.write("</body></html>"),layer=jQuery(a.document)}},__postBackSuccess:function(e){var t=jQuery(e).find("Result").text();if("image/svg+xml"==current_mimetype)if("true"===jQuery(xepOnline.Formatter.__container).attr("data-xeponline-embed-pending")){var r=new DOMParser,n=r.parseFromString(bufferToBinaryString(base64ToBuffer(t)).replace("ï»¿",""),"text/xml");jQuery(xepOnline.Formatter.__elm).html(""),document.getElementById(jQuery(xepOnline.Formatter.__elm).attr("id")).appendChild(n.documentElement)}else{var a=window.open("","_blank","titlebar=yes");a.document.title="XEPOnline Result",a.document.write("<html><head>"),jQuery.each(jQuery("link[href*='googleapis']"),function(e,t){a.document.write(t.outerHTML)}),a.document.write('</head><body height="100%"><div id="target" style="height:100%;overflow-y:auto">'),a.document.write("</div></body></html>");var r=new DOMParser,n=r.parseFromString(bufferToBinaryString(base64ToBuffer(t)).replace("ï»¿",""),"text/xml");a.document.getElementById("target").appendChild(n.documentElement),layer=jQuery(a.document)}else{var i="";if(i+='<object width="100%"',i+=' height="',i+="true"===jQuery(xepOnline.Formatter.__container).attr("data-xeponline-embed-pending")?current_height:"100%",i+='" data="data:',i+=current_mimetype,i+=";base64,",i+=t,i+='" type="',i+=current_mimetype,i+='" class="internal">',i+='<embed src="data:',i+=current_mimetype,i+=";base64,",i+=t,i+='" type="',i+=current_mimetype,i+='" />',i+="</object>","true"===jQuery(xepOnline.Formatter.__container).attr("data-xeponline-embed-pending"))jQuery(xepOnline.Formatter.__elm).html(i);else{var a=window.open("","_blank","titlebar=yes");a.document.title="XEPOnline Result",a.document.write("<html><head>"),a.document.write('</head><body height="100%"><div id="target" style="height:100%;overflow-y:auto">'),a.document.write(i),a.document.write("</div></body></html>"),layer=jQuery(a.document)}}},__processImages:function(e){var t=jQuery(e).find("Pages").children();if("true"===jQuery(xepOnline.Formatter.__container).attr("data-xeponline-embed-pending"))jQuery(xepOnline.Formatter.__elm).html(""),jQuery.each(t,function(e,t){jQuery(xepOnline.Formatter.__elm).append('<img style="border:1px solid black" height="100%" src="data:image/png;base64,'+jQuery(t).text()+'"/>')});else{var r=window.open("","_blank","titlebar=yes");r.document.title="XEPOnline Result",r.document.write("<html><head>"),r.document.write('</head><body height="100%"><div id="target" style="height:100%;overflow-y:auto">'),jQuery.each(t,function(e,t){r.document.write('<img style="border:1px solid black" src="data:'+current_mimetype+";base64,"+jQuery(t).text()+'"/>')}),r.document.write("</div></body></html>")}},__postBackFailure:function(e,t,r){var n=(jQuery(e.responseText),window.open("","_blank","titlebar=yes, width=800, height=500"));n.document.title="XEPOnline Error",n.document.write(e.responseText)}};