!function(i){function e(i,e,s){var d=parseInt(Math.round(e/s*100)),l=i.find(".slider-fill"),n=i.find(".slider-handle"),t=i.find('input[type="range"]'),a=t.attr("step");t.val();a&&0!=a&&(d=t.val()/max*100),l.css("width",d+"%"),n.css({left:d+"%",transition:"none","-webkit-transition":"none","-moz-transition":"none"}),t.val(d),!0===i.hasClass("slider-discrete")&&i.find(".slider-handle span").text(d),i.trigger("slider-change",t.val())}i.fn.rkmd_rangeSlider=function(){var s,d,l,n,t,a;(s=i(this)).outerWidth(),s.offset().left,l=i(".slider-continuous"),n=i(".slider-discrete"),!0===s.hasClass("slider-continuous")&&l.each(function(e,s){(d=i(this)).append('<div class="slider"><div class="slider-fill"></div><div class="slider-handle"></div></div>'),t=d.find('input[type="range"]'),a=d.find(".slider"),slider_fill=a.find(".slider-fill"),slider_handle=a.find(".slider-handle"),max=t.attr("max");var l=t.val()/max*100;slider_fill.css("width",l+"%"),slider_handle.css("left",l+"%")}),!0===s.hasClass("slider-discrete")&&n.each(function(e,s){(d=i(this)).append('<div class="slider"><div class="slider-fill"></div><div class="slider-handle"><div class="slider-label"><span>0</span></div></div></div>'),t=d.find('input[type="range"]'),a=d.find(".slider"),slider_fill=a.find(".slider-fill"),slider_handle=a.find(".slider-handle"),slider_label=a.find(".slider-label"),max=t.attr("max");var l=t.val()/max*100;slider_fill.css("width",l+"%"),slider_handle.css("left",l+"%"),slider_label.find("span").text(l)}),s.on("mousedown touchstart",".slider-handle",function(s){if(2===s.button)return!1;console.log("STart");var d=i(this).parents(".rkmd-slider"),l=d.outerWidth(),n=d.offset().left;if(!0===d.find('input[type="range"]').is(":disabled"))return!1;!0===d.hasClass("slider-discrete")&&i(this).addClass("is-active");var t={touchmove:function(i){console.log("Moving");var s=i.pageX-n;s<=l&&!(s<"0")&&e(d,s,l)},touchend:function(e){i(this).off(t),!0===d.hasClass("slider-discrete")&&d.find(".is-active").removeClass("is-active"),console.log("end")}};i(document).on(t)}),s.on("mousedown",".slider",function(s){if(2===s.button)return!1;var d=i(this).parents(".rkmd-slider"),l=d.outerWidth(),n=d.offset().left;if(!0===d.find('input[type="range"]').is(":disabled"))return!1;var t=s.pageX-n;t<=l&&!(t<"0")&&e(d,t,l);var a={mouseup:function(e){i(this).off(a)}};i(document).on(a)})}}(jQuery);